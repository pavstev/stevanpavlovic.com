# --- CORE BEHAVIOR ---
# Enforce the exact Node engine version specified in your package.json
engine-strict=true

# --- PEER DEPENDENCIES ---
# Automatically install missing peer dependencies (Huge lifesaver in the React/Astro ecosystem)
auto-install-peers=true

# Don't fail the installation if peer dependencies have slightly mismatched versions
# (Very common when mixing bleeding-edge Astro packages with older React libraries)
strict-peer-dependencies=false

# --- HOISTING RULES (Crucial for your stack) ---
# pnpm strictly isolates dependencies by default. However, some tools (like ESLint,
# Prettier, and TypeScript) often expect their plugins/types to be "hoisted"
# to the root node_modules directory so they can be discovered globally.

# Hoist all ESLint plugins, Prettier plugins, and TypeScript types to the root
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=@types/*
public-hoist-pattern[]=@astrojs/*

# --- WORKSPACE SETTINGS ---
# Ensures that when you add a package that exists in your workspace,
# it links it via the workspace protocol (workspace:*) instead of fetching from npm
save-workspace-protocol=rolling

# --- PERFORMANCE & CI ---
# Prefer offline packages if they already exist in the global pnpm store
prefer-offline=true

# Keep the lockfile strictly in sync with package.json
lockfile=true