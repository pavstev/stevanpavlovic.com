---
import { cn } from "../../lib/cn";

interface Props {
  angle?: number;
  class?: string;
  maxDelay?: number;
  maxDuration?: number;
  minDelay?: number;
  minDuration?: number;
  number?: number;
}

const {
  angle = 215,
  class: className,
  maxDelay = 1.2,
  maxDuration = 10,
  minDelay = 0.2,
  minDuration = 2,
  number = 20,
} = Astro.props;
---

<div
  class:list={cn("pointer-events-none absolute inset-0 overflow-hidden", className)}
  data-angle={angle}
  data-max-delay={maxDelay}
  data-max-duration={maxDuration}
  data-min-delay={minDelay}
  data-min-duration={minDuration}
  data-number={number}
  id="meteors-container"
>
  <!-- Meteors will be injected here -->
</div>

<script>
  import { initMeteors } from "../../lib/meteor";
  initMeteors();
  document.addEventListener("astro:page-load", initMeteors);
</script>
