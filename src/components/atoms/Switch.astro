---
import type { HTMLAttributes } from "astro/types";
import { cn } from "../../lib/cn";

export interface Props extends Omit<HTMLAttributes<"button">, "role"> {
  checked?: boolean;
}

const { checked, class: className, ...props } = Astro.props;
---

<button
  aria-checked={checked}
  class={cn(
    "peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",
    checked ? "bg-primary" : "bg-input",
    className,
  )}
  role="switch"
  type="button"
  {...props}
>
  <span
    class={cn(
      "pointer-events-none block size-4 rounded-full bg-background shadow-lg ring-0 transition-transform",
      checked ? "translate-x-4" : "translate-x-0",
    )}
  >
  </span>
</button>
