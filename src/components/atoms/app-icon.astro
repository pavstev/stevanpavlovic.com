---
import { Icon } from "astro-icon/components";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "../../lib/cn";

const variants = cva("shrink-0 transition-transform duration-300", {
  defaultVariants: {
    size: "md",
    variant: "default",
  },
  variants: {
    size: {
      "2xl": "size-8",
      base: "size-4",
      lg: "size-6",
      md: "size-5",
      sm: "size-4",
      xl: "size-7",
      xs: "size-3",
    },
    variant: {
      accent: "text-accent",
      default: "",
      ghost: "opacity-40",
      muted: "text-muted-foreground",
      primary: "text-primary",
    },
  },
});

export interface Props extends VariantProps<typeof variants> {
  class?: string;
  name: string;
}

const { class: className, name, size, variant, ...props } = Astro.props;
---

<Icon class:list={[cn(variants({ size, variant }), className)]} name={name} {...props} />
