---
import { Icon } from "astro-icon/components";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "../../lib/cn";

const variants = cva("shrink-0 transition-all duration-300", {
  defaultVariants: {
    size: "base",
    variant: "default",
  },
  variants: {
    size: {
      "2xl": "size-7", // 28px
      base: "size-4.5", // 18px
      lg: "size-6", // 24px
      md: "size-5", // 20px
      sm: "size-4", // 16px
      xl: "size-6.5", // 26px
      xs: "size-3", // 12px
    },
    variant: {
      accent: "text-accent drop-shadow-[0_0_8px_var(--color-accent)]",
      default: "",
      ghost: "opacity-40",
      highlight: "text-highlight drop-shadow-[0_0_8px_var(--color-highlight)]",
      muted: "text-muted-foreground",
      primary: "text-primary drop-shadow-[0_0_8px_var(--color-primary)]",
      white: "text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]",
    },
  },
});

interface Props extends VariantProps<typeof variants> {
  class?: string;
  name: string;
}

const { class: className, name, size, variant, ...props } = Astro.props;
---

<Icon class:list={[cn(variants({ size, variant }), className)]} name={name} {...props} />
