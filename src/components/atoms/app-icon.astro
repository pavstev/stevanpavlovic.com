---
import { Icon } from "astro-icon/components";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "../../lib/cn";

const variants = cva("shrink-0 transition-all duration-300", {
  defaultVariants: {
    size: "md",
    variant: "default",
  },
  variants: {
    size: {
      lg: "size-6", // 24px
      md: "size-5", // 20px
      sm: "size-3.5", // 14px
      xl: "size-7", // 28px
    },
    variant: {
      accent: "text-accent drop-shadow-[0_0_10px_rgba(74,222,128,0.5)] filter",
      default: "text-current",
      glow: "text-foreground drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] filter",
      muted: "text-muted-foreground",
      primary: "text-primary drop-shadow-[0_0_10px_rgba(59,130,246,0.5)] filter",
    },
  },
});

interface Props extends VariantProps<typeof variants> {
  class?: string;
  name: string;
}

const { class: className, name, size, variant, ...props } = Astro.props;
---

<Icon class:list={[cn(variants({ size, variant }), className)]} name={name} {...props} />
