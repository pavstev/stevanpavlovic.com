---
import type { HTMLAttributes } from 'astro/types';

import { cva, type VariantProps } from 'class-variance-authority';

const badge = cva(
  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-none',
  {
    defaultVariants: {
      animation: 'none',
      variant: 'default',
    },
    variants: {
      animation: {
        none: '',
        pulse: 'animate-pulse',
      },
      variant: {
        default:
          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
        destructive:
          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',
        neutral: 'border-border text-muted-foreground',
        outline: 'text-foreground',
        secondary:
          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',
        surface: 'border-border bg-muted text-muted-foreground',
      }
    },
  },
);

interface Props
  extends HTMLAttributes<'span'>, VariantProps<typeof badge> {}

const {
  class: className,
  variant = 'default',
  ...props
} = Astro.props;
---

<span class:list={badge({ class: className, variant })} {...props}>
  <slot />
</span>
