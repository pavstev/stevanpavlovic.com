---
import type { HTMLAttributes } from 'astro/types';

import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '../../lib/cn';

/**
 * Badge Component - Minimalistic, modern design
 */
const badgeVariants = cva(
  // Base styles
  'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium',
  // Transitions
  'transition-colors duration-200 ease-out',
  // Focus states
  'focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:outline-none',
  {
    defaultVariants: {
      variant: 'default',
    },
    variants: {
      variant: {
        // Accent - Cyan tones
        accent:
          'border border-accent/20 bg-accent/15 text-accent',
        // Primary - Solid accent
        default:
          'border border-primary/20 bg-primary/15 text-primary',
        // Destructive - Red tones
        destructive:
          'border border-destructive/20 bg-destructive/15 text-destructive',
        // Muted - Minimal
        muted:
          'bg-muted/50 text-muted-foreground',
        // Outline - Border only
        outline:
          'border border-border text-foreground/80',
        // Secondary - Muted blue
        secondary:
          'border border-secondary/20 bg-secondary/15 text-secondary',
        // Success - Green tones
        success:
          'border border-emerald-500/20 bg-emerald-500/15 text-emerald-400',
      }
    },
  }
);

interface Props extends HTMLAttributes<'span'>, VariantProps<typeof badgeVariants> {
  as?: 'div' | 'span';
  class?: string;
}

const {
  as: Tag = 'span',
  class: className,
  variant,
  ...props
} = Astro.props;
---

<Tag class:list={cn(badgeVariants({ className, variant }))} {...props}>
  <slot />
</Tag>
