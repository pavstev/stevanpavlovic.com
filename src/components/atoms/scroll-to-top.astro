---
import { Icon } from 'astro-icon/components';

import Button from './button.astro';
---

<Button
  aria-label="Scroll to top"
  as="button"
  class="fixed right-20 bottom-4 z-40 translate-y-20 opacity-0 transition-all duration-300"
  id="smart-scroll-to-top"
  variant="tabs"
>
  TOP
  <Icon
    class="size-3 transition-transform duration-300 group-hover:-translate-y-0.5"
    name="mdi:arrow-up"
  />
</Button>

<script>
  import { initSmartScroll } from '../../lib/scroll';

  const init = () => initSmartScroll('smart-scroll-to-top');

  init();
  document.addEventListener('astro:after-swap', init);
</script>
