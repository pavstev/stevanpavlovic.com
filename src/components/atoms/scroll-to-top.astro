---
import { Icon } from 'astro-icon/components';

import Button from './button.astro';
---

<Button
  aria-label="Scroll to top"
  as="button"
  class="group fixed right-6 bottom-6 z-50 flex translate-y-20 transform items-center justify-center gap-2 rounded-full border border-border bg-background/80 px-4 py-2 text-[10px] font-bold tracking-widest text-muted-foreground uppercase opacity-0 shadow-xl backdrop-blur-md transition-all duration-300 hover:border-primary/30 hover:bg-background hover:text-primary focus:outline-none md:right-10 md:bottom-10"
  id="smart-scroll-to-top"
  variant="outline"
>
  TOP
  <Icon
    class="size-3 transition-transform duration-300 group-hover:-translate-y-0.5"
    name="mdi:arrow-up"
  />
</Button>

<script>
  import { initSmartScroll } from '../../lib/scroll';

  const init = () => initSmartScroll('smart-scroll-to-top');

  init();
  document.addEventListener('astro:after-swap', init);
</script>
