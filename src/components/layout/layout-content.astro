---
import Button from '../atoms/button.astro';
import VerticalGuideLine from '../atoms/vertical-guide-line.astro';
import LayoutRoot from '../layout/layout-root.astro';
import Container from '../molecules/container.astro';

interface Props {
  backLabel?: string;
  backLink?: string;
  description: string;
  title: string;
}

const {
  backLabel = 'BACK',
  backLink = '/',
  description,
  title,
} = Astro.props;
---

<LayoutRoot description={description} title={title}>
  <Container as="article" data-pagefind-body>
    <div class="mx-auto">
      <slot name="back-link">
        <div class="mb-12">
          <Button href={backLink} icon="mdi:arrow-left" variant="back">
            {backLabel}
          </Button>
        </div>
      </slot>

      <header class="mb-8">
        <slot name="header" />
      </header>

      <slot name="hero-image" />

      <div class="relative">
        <VerticalGuideLine />

        <div
          class="prose prose-base max-w-none prose-invert
        prose-headings:scroll-mt-20 prose-headings:font-bold prose-headings:tracking-tight prose-headings:text-foreground
        prose-h2:mt-10 prose-h2:border-b prose-h2:border-border/50 prose-h2:pb-4 prose-h2:text-3xl
        prose-p:leading-7 prose-p:text-muted-foreground
        prose-a:font-medium prose-a:text-primary prose-a:no-underline prose-a:transition-colors hover:prose-a:text-primary/80 hover:prose-a:underline
        prose-strong:font-semibold prose-strong:text-foreground
        prose-code:rounded-md prose-code:border prose-code:border-border prose-code:bg-muted/50 prose-code:px-1.5 prose-code:py-0.5 prose-code:font-mono prose-code:text-sm prose-code:font-medium prose-code:text-foreground/80 before:prose-code:content-none after:prose-code:content-none
        prose-pre:border prose-pre:border-border prose-pre:bg-black/50 prose-pre:shadow-2xl
        prose-li:text-muted-foreground prose-li:marker:text-muted-foreground/60
        prose-img:rounded-2xl prose-img:border prose-img:border-border/50 prose-img:shadow-xl"
        >
          <slot />
        </div>
      </div>

      <slot name="footer">
      </slot>
    </div>
  </Container>
</LayoutRoot>
