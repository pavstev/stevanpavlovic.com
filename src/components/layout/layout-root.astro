---
import '../../styles/global.css';
import '@fontsource-variable/space-grotesk';
import '@fontsource-variable/inter';
import '@fontsource-variable/jetbrains-mono';
import { ClientRouter } from 'astro:transitions';

import ScrollToTop from '../atoms/scroll-to-top.astro';
import Chatbot from '../molecules/chatbot.astro';
import Container from '../molecules/container.astro';
import Footer from './footer.astro';
import Head from "./head.astro";
import Header from './header.astro';

interface Props {
  description: string;
  includeFooter?: boolean;
  includeHeader?: boolean;
  title: string;
}

const {
  description,
  includeFooter = true,
  includeHeader = true,
  title,
} = Astro.props;
---

<!doctype html>
<html class="scroll-smooth" lang="en">
  <head>
    <Head description={description} title={title} />
    <ClientRouter />
  </head>
  <body
    class="font-body bg-background text-foreground antialiased selection:bg-primary/20 selection:text-primary"
  >
    {/* Modern Mesh Gradient Background */}
    <div
      class="pointer-events-none fixed inset-0 z-0"
      style="background: radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.08) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(6, 182, 212, 0.08) 0%, transparent 50%), radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.03) 0%, transparent 100%);"
    >
    </div>

    {/* Subtle Grid Pattern */}
    <div
      class="pointer-events-none fixed inset-0 z-0 opacity-[0.05]"
      style={{
        backgroundImage:
          'linear-gradient(to right, #808080 1px, transparent 1px), linear-gradient(to bottom, #808080 1px, transparent 1px)',
        backgroundSize: '32px 32px',
      }}
    >
    </div>

    {/* Top Glow Accent */}
    <div
      class="pointer-events-none fixed inset-0 z-0 opacity-30"
      style="background: radial-gradient(ellipse 80% 50% at 50% 0%, rgba(139, 92, 246, 0.1), transparent);"
    >
    </div>

    {includeHeader && <Header data-pagefind-ignore />}

    <Container
      as="main"
      class="relative z-10 pt-32 md:pt-28"
      data-pagefind-body
      transition:name="main"
    >
      <slot />
    </Container>

    {includeFooter && <Footer data-pagefind-ignore />}
    <ScrollToTop />
    <Chatbot />
  </body>
</html>
