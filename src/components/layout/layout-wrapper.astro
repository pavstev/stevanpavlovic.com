---
import { cn } from "../../lib/cn";
import EnvironmentalBackground from "../organisms/EnvironmentalBackground.astro";

export interface Props {
  class?: string;
  intensity?: "low" | "medium" | "high";
}

const { class: className, intensity = "medium" } = Astro.props;
---

<div class:list={[cn("relative min-h-screen", className)]}>
  <EnvironmentalBackground intensity={intensity} />

  <div class="relative z-10 flex flex-col min-h-screen overflow-x-hidden">
    <slot />
  </div>
</div>

<style is:global>
  /* Scifi Custom Scrollbar Implementation */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: var(--color-primary);
    border-radius: 10px;
    box-shadow: 0 0 10px var(--color-primary);
  }
  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-accent);
  }

  /* Selection Glow */
  ::selection {
    background-color: color-mix(in srgb, var(--color-primary), transparent 80%);
    text-shadow: 0 0 8px var(--color-primary);
  }
</style>
