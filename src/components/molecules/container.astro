---
import type { HTMLAttributes } from 'astro/types';

import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '../../lib/cn';

const container = cva('mx-auto w-full px-4');

interface Props
  extends HTMLAttributes<'div'>, VariantProps<typeof container> {
  as?: string;
  maxWidth?: number | string;
}

const {
  as: Tag = 'div',
  class: className,
  maxWidth = 1120,
  ...rest
} = Astro.props;

const maxWidthValue =
  typeof maxWidth === 'number' ? `${String(maxWidth)}px` : maxWidth;
const maxWidthStyle = `max-width: ${maxWidthValue};`;
---

<Tag
  class:list={cn(container(), className)}
  style={maxWidthStyle}
  {...rest}
>
  <slot />
</Tag>
