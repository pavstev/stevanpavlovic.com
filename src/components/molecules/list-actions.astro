---
import type { ViewUrls } from "../../lib/list";

import DisplayMenu from "./display-menu.astro";
import Pagination from "./pagination.astro";

interface Props {
  baseUrl: string;
  currentPage: number;
  display?: "grid" | "list";
  /** Optional: Explicit URLs for view toggles */
  displayUrls?: ViewUrls;
  /** Optional: Function to generate page URL. Falls back to default logic if not provided. */
  // eslint-disable-next-line no-unused-vars
  getPageUrl?: (_page: number) => string;
  /** Optional: Direct URL for next page (overrides auto-generation) */
  nextUrl?: string;
  paginationType?: "path" | "query";
  /** Optional: Direct URL for previous page (overrides auto-generation) */
  prevUrl?: string;
  showViewToggle?: boolean;
  totalPages: number;
}

const {
  baseUrl,
  currentPage,
  display = "list",
  displayUrls,
  getPageUrl: customGetPageUrl,
  nextUrl,
  paginationType = "path",
  prevUrl,
  showViewToggle = true,
  totalPages,
} = Astro.props;
---

<div class="flex flex-wrap items-center gap-2">
  {showViewToggle && <DisplayMenu display={display} displayUrls={displayUrls} showLabels />}
  <Pagination
    baseUrl={baseUrl}
    currentPage={currentPage}
    getPageUrl={customGetPageUrl}
    nextUrl={nextUrl}
    paginationType={paginationType}
    prevUrl={prevUrl}
    totalPages={totalPages}
  />
</div>
