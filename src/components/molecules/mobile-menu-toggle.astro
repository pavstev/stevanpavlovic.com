---
import { Icon } from 'astro-icon/components';
import type { HTMLAttributes } from 'astro/types';

import { cn } from '../../lib/cn';

interface Props extends HTMLAttributes<'button'> {
  size?: 'lg' | 'md' | 'sm';
}

const { class: className, size = 'md', ...rest } = Astro.props;

const sizeClasses = {
  sm: 'size-8',
  md: 'size-9',
  lg: 'size-10',
};
---

<button
  aria-label="Menu"
  class={cn(
    "group/toggle relative flex items-center justify-center rounded-full bg-muted/80 text-muted-foreground ring-1 ring-border/50 transition-colors hover:bg-muted hover:text-foreground md:hidden",
    sizeClasses[size],
    className
  )}
  {...rest}
>
  <Icon
    class="transition-transform duration-300 group-[.open]/toggle:scale-0"
    name="mdi:menu"
    size={20}
  />
  <Icon
    class="absolute scale-0 transition-transform duration-300 group-[.open]/toggle:scale-100"
    name="mdi:close"
    size={20}
  />
</button>