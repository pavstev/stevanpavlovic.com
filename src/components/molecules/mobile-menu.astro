---
import Link from '../atoms/link.astro';

interface Props {
  navItems: readonly { href: string; label: string }[];
}

import { isActivePath } from '../../lib/nav';

const { navItems } = Astro.props;
const { pathname } = Astro.url;

const isActive = (href: string) => isActivePath(pathname, href);
---

<nav aria-label="Mobile navigation" class="flex flex-col gap-4">
  {
    navItems.map((item) => (
      <Link
        class="text-xl"
        href={item.href}
        variant={isActive(item.href) ? 'default' : 'muted'}
      >
        {item.label}
      </Link>
    ))
  }
</nav>
