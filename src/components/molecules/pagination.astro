---
import { Icon } from 'astro-icon/components';

import Button from '../atoms/button.astro';
import Stack from './stack.astro';

interface Props {
  currentPage: number;
  nextUrl?: null | string;
  prevUrl?: null | string;
  totalPages: number;
}

const { currentPage, nextUrl, prevUrl, totalPages } = Astro.props;
---

{
  totalPages > 1 && (
    <nav
      aria-label="Pagination"
      class="flex items-center justify-between gap-4"
      role="navigation"
    >
      <Stack
        align="center"
        class="w-full"
        direction="row"
        justify="between"
      >
        {/* Page indicator */}
        <span class="text-sm text-muted-foreground">
          Page <span class="font-medium text-foreground">{currentPage}</span>
          {' '}of{' '}
          <span class="font-medium text-foreground">{totalPages}</span>
        </span>

        {/* Navigation buttons */}
        <Stack align="center" direction="row" gap={2}>
          <Button
            aria-label="Previous page"
            as={prevUrl ? 'a' : 'button'}
            class="size-8"
            disabled={!prevUrl}
            href={prevUrl || undefined}
            variant="ghost"
          >
            <Icon name="mdi:chevron-left" size={18} />
          </Button>

          <Button
            aria-label="Next page"
            as={nextUrl ? 'a' : 'button'}
            class="size-8"
            disabled={!nextUrl}
            href={nextUrl || undefined}
            variant="ghost"
          >
            <Icon name="mdi:chevron-right" size={18} />
          </Button>
        </Stack>
      </Stack>
    </nav>
  )
}
