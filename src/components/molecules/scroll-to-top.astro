---
import { cn } from "../../lib/cn";
import Icon from "./icon.astro";
---

<button
  aria-label="Scroll to top"
  class:list={cn(
    "group fixed right-20 bottom-3 z-40 flex translate-y-20 cursor-pointer items-center gap-1.5 rounded-full bg-foreground/5 px-3 py-1.5 text-sm font-semibold text-muted-foreground opacity-0 shadow-lg backdrop-blur-sm transition-all duration-300 hover:bg-foreground/10 hover:text-foreground hover:shadow-xl",
  )}
  id="smart-scroll-to-top"
  type="button"
>
  TOP
  <Icon class="transition-transform duration-300 group-hover:-translate-y-0.5" name="mdi:arrow-up" size="sm" />
</button>

<script>
  import { initScrollToTop } from "../../lib/scroll-to-top";
  initScrollToTop();
  document.addEventListener("astro:page-load", initScrollToTop);
</script>
