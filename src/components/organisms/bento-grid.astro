---
import { Icon } from 'astro-icon/components';

import { NAV_ITEMS } from '../../lib/config';
import Heading from '../atoms/heading.astro';
import IconBox from '../atoms/icon-box.astro';
import Link from '../atoms/link.astro';
import Text from '../atoms/text.astro';
import ProfileHero from './profile-hero.astro';

const { items = NAV_ITEMS.filter((i) => i.label !== 'Home') } = Astro.props;

interface Props {
  items?: typeof NAV_ITEMS[number][];
}


---

<div class="flex flex-col gap-8">
  {/* Profile Hero */}
  <ProfileHero />

  {/* Navigation Grid */}
  <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
    {
      items.map((item) => (
        <Link
          class="group relative flex flex-col items-start overflow-hidden rounded-xl border border-white/10 bg-card/40 p-6 text-left transition-all duration-300 hover:border-primary/30 hover:bg-card/60 md:p-8"
          href={item.href}
          style={{
            '--item-color': item.color,
          }}
          variant="unstyled"
        >
          <div class="absolute top-2 right-2 rounded-full bg-white/10 p-1 opacity-0 backdrop-blur-sm transition-all duration-300 group-hover:opacity-100 hover:scale-110">
            <Icon class="text-white/80" name="mdi:arrow-top-right" size={14} />
          </div>

          <IconBox
            class="mb-4 bg-white/5 text-[color:var(--item-color)] ring-1 ring-white/10 transition-all duration-300 group-hover:scale-110 group-hover:bg-white/10"
            size="lg"
          >
            <Icon name={item.icon} size={28} />
          </IconBox>

          <div class="flex flex-col items-start">
            <Heading class="mt-2 font-medium text-white transition-colors duration-300 group-hover:text-[color:var(--item-color)]" level={3} size="lg">
              {item.label}
            </Heading>
            <Text class="mt-2 line-clamp-2 max-w-sm" size="sm" variant="muted">
              {item.description}
            </Text>
          </div>
        </Link>
      ))
    }
  </div>
</div>
