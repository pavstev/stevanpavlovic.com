---
import type { PortfolioItem } from '../../lib/portfolio';

import Empty from '../molecules/empty.astro';
import MasonryGrid from '../molecules/masonry-grid.astro';
import Card from './card.astro';

interface Props {
  emptyAction?: {
    href: string;
    label: string;
    onClick?: string;
  };
  emptyDescription?: string;
  emptyIcon?: string;
  emptyTitle?: string;
  headingLevel?: 1 | 2 | 3 | 4 | 5 | 6;
  itemClass?: string;
  items: PortfolioItem[];
  layout?: 'grid' | 'list';
}

const {
  emptyAction,
  emptyDescription = "We couldn't find any items at the moment.",
  emptyIcon = 'mdi:alert-circle-outline',
  emptyTitle = 'No items found',
  headingLevel = 2,
  itemClass = 'portfolio-item',
  items,
  layout = 'grid',
} = Astro.props;
---

{
  items.length > 0 ? (
    layout === 'list' ? (
      <div class="flex flex-col gap-3">
        {
          items.map((item) => (
            <Card
              class:list={itemClass}
              headingLevel={headingLevel}
              list={true}
              portfolioItem={item}
              variant="portfolio"
            />
          ))
        }
      </div>
    ) : (
      <MasonryGrid columns={2}>
        {
          items.map((item) => (
            <div class="masonry-item">
              <Card
                class:list={itemClass}
                headingLevel={headingLevel}
                portfolioItem={item}
                variant="portfolio"
              />
            </div>
          ))
        }
      </MasonryGrid>
    )
  ) : (
    <Empty
      action={emptyAction}
      description={emptyDescription}
      icon={emptyIcon}
      title={emptyTitle}
    />
  )
}
