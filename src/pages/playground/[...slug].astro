---
import { type CollectionEntry, getCollection, render } from 'astro:content';

import PostView from '../../components/organisms/post-view.astro';

type Props = CollectionEntry<'toys'>;

export async function getStaticPaths() {
  const toys = await getCollection('toys');
  return toys.map((toy) => ({
    params: { slug: toy.id },
    props: toy,
  }));
}

const toy = Astro.props;
const { Content } = await render(toy);
---

<PostView
  data={toy.data}
  type="playground"
>
  <Content />
</PostView>
